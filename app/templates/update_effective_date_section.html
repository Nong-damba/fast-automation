<div id="update-effective-date" class="section">
    <div class="upload-section">
        <h2>Update Effective Date</h2>
        <p class="upload-description">Upload a .txt file containing username and policy data to generate SQL script.</p>
        <form id="upload-form" class="upload-form">
            <div class="file-input-container">
                <input type="file" id="file-input" class="file-input" accept=".txt">
                <label for="file-input" class="file-input-label">
                    Choose File
                </label>
                <span id="file-name" class="file-name">No file chosen</span>
            </div>
            <button type="submit" class="submit-btn" id="generate-sql-btn">
                Generate SQL
            </button>
        </form>
        <pre class="sample-input-block">&lt;username&gt;

&lt;policy_number&gt; &lt;YYYY-MM-DD&gt;
&lt;policy_number&gt; &lt;YYYY-MM-DD&gt;
...
</pre>
    </div>
    <div id="sql-section" class="sql-section" style="display: none;">
        <div class="sql-header">
            <h3>Generated SQL Script</h3>
            <div class="sql-actions">
                <button id="copy-btn" class="action-btn">
                    <i class="fas fa-copy"></i>
                    Copy
                </button>
                <button id="edit-btn" class="action-btn">
                    <i class="fas fa-edit"></i>
                    Edit
                </button>
                <button id="download-btn" class="action-btn">
                    <i class="fas fa-download"></i>
                    Download
                </button>
            </div>
        </div>
        <pre><code id="sql-code" class="sql"></code></pre>
        <div class="sql-execute-actions">
            <select id="server-select" class="form-input small">
                <!-- Options will be populated dynamically -->
            </select>
            <select id="database-select" class="form-input small">
                <!-- Options will be populated dynamically -->
            </select>
            <button id="run-btn" class="action-btn run-btn">Run code</button>
            <button id="view-rows-btn" class="action-btn">View Current Rows</button>
        </div>
        <div id="table-section" class="table-section" style="display:none; margin-top: 20px; background: #fff; border: 1px solid #eaeaea; border-radius: 6px; box-shadow: 0 1px 4px rgba(0,0,0,0.03); padding: 0 0 1.2rem 0;">
            <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem 1.2rem 0.5rem 1.2rem;">
                <span style="font-size: 1.05rem; font-weight: 600; color: #222;">Current Table Data</span>
                <button id="reload-table-btn" class="action-btn" style="margin-left: 10px;">Reload Table</button>
            </div>
            <div id="table-container" style="overflow-x:auto; overflow-y:auto; max-height:350px; padding: 0 1.2rem;"></div>
        </div>
        <div id="execution-output" class="execution-output" style="display:none;"></div>
    </div>
</div> 